profile docked_home {
  output "Sharp Corporation 0x14FA Unknown" disable
  output "Samsung Electric Company SyncMaster 0x00007733" enable
  exec ' \
    daemon() ( exec "$@" >/dev/null 2>&1 & ); \
    ps -Aocomm | grep -qxF nqptp || daemon sudo nqptp; \
    sleep 1;
    ps -Aocomm | grep -qxF shairport-sync || daemon shairport-sync -o pa; \
    swaystatus update; \
  '
}

profile laptop {
  output "Sharp Corporation 0x14FA Unknown" enable
  exec '\
    playerctl -p ShairportSync status | grep -qxF Playing \
      || { pkill shairport-sync; sudo pkill nqptp; }; \
    swaystatus update; \
  '
}